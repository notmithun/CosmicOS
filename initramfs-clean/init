#!/bin/sh

mount -t proc proc /proc
mount -t sysfs sysfs /sys
mount -t devtmpfs devtmpfs /dev

# Small delay + retry in case disk is slow to appear
sleep 1
mount /dev/sda /newroot 2>/dev/null || echo "Root mount failed, dropping to shell"

echo ""
echo "================================================"
echo "  CosmicOS fully booted on real disk!"
echo "  Root filesystem: /dev/sda (ext4)"
echo "================================================"
echo ""

# Drop to shell on the initramfs if mount fails
exec /bin/sh
